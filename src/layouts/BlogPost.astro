---
import Layout from "./Layout.astro";
import { Badge } from "@/components/ui/badge";

export interface Props {
  title: string;
  pubDate: Date;
  updatedDate?: Date;
  thumbnailUrl?: string;
  tags: string[];
}

const { title, pubDate, updatedDate, thumbnailUrl, tags } = Astro.props;
const formattedDate = pubDate.toLocaleDateString("en-US", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
---

<Layout title={title}>
  <article class="w-full pt-28 pb-20 lg:pt-36 lg:pb-24">
    <header class="mb-8">
      {
        thumbnailUrl && (
          <img
            src={thumbnailUrl}
            alt={title}
            class="w-full h-64 object-cover rounded-xl mb-6"
          />
        )
      }
      <h1
        class="text-4xl lg:text-5xl font-bold text-neutral-900 dark:text-neutral-100 mb-4"
      >
        {title}
      </h1>

      <div
        class="flex flex-wrap items-center gap-4 text-sm text-neutral-500 mb-4"
      >
        <time datetime={pubDate.toISOString()}>{formattedDate}</time>
        {
          updatedDate && (
            <>
              <span>â€¢</span>
              <span>Updated {updatedDate.toLocaleDateString("en-US")}</span>
            </>
          )
        }
      </div>

      {
        tags.length > 0 && (
          <div class="flex flex-wrap gap-2 mt-4">
            {tags.map((tag) => (
              <Badge variant="outline">{tag}</Badge>
            ))}
          </div>
        )
      }
    </header>

    <div
      class="prose prose-neutral prose-base lg:prose-lg dark:prose-invert max-w-none"
    >
      <slot />
    </div>
  </article>
</Layout>
